@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="bg-light py-4 mb-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-6">
                <h1 class="display-4 fw-bold">@ViewBag.Title</h1>
                <p class="lead text-muted">@ViewBag.Message</p>
            </div>
            <div class="col-md-6 text-md-end">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb bg-transparent p-0 justify-content-end">
                        <li class="breadcrumb-item"><a href="@Url.Action("Index", "Home")">Trang chủ</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Giới thiệu</li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</div>

<div class="container mb-5">
    <div class="row align-items-center mb-5">
        <div class="col-lg-6">
            <img src="~/Content/images/banner/about.png"
                 class="img-fluid rounded shadow-lg" alt="About Us">
        </div>
        <div class="col-lg-6 ps-lg-5 mt-4 mt-lg-0">
            <h2 class="fw-bold text-dark mb-3">Câu chuyện của chúng tôi</h2>
            <p class="text-muted mb-4">
                @ViewBag.Description
            </p>
            <p>
                Thành lập từ năm 2024, PUREAR bắt đầu với niềm đam mê mang lại phong cách thời trang tối giản nhưng đầy cá tính.
                Chúng tôi không chỉ bán quần áo, chúng tôi bán sự tự tin cho khách hàng.
            </p>
            <ul class="list-unstyled mt-4">
                <li class="mb-2"><i class="fa fa-check-circle text-success me-2"></i> Sản phẩm chính hãng 100%</li>
                <li class="mb-2"><i class="fa fa-check-circle text-success me-2"></i> Giao hàng nhanh toàn quốc</li>
                <li class="mb-2"><i class="fa fa-check-circle text-success me-2"></i> Hỗ trợ đổi trả trong 7 ngày</li>
            </ul>
            <a href="@Url.Action("Index", "Product")" class="btn btn-dark btn-lg mt-3 rounded-pill px-4">Xem sản phẩm ngay</a>
        </div>
    </div>

    <div class="row bg-dark text-white rounded p-5 text-center shadow mb-5">
        <div class="col-md-4 mb-3 mb-md-0">
            <i class="fa fa-users fa-3x mb-3 text-warning"></i>
            <h2 class="fw-bold counter">@ViewBag.TotalUsers</h2>
            <p class="text-uppercase">Khách hàng hài lòng</p>
        </div>
        <div class="col-md-4 mb-3 mb-md-0 border-start border-end border-light">
            <i class="fa fa-tshirt fa-3x mb-3 text-warning"></i>
            <h2 class="fw-bold counter">@ViewBag.TotalProducts</h2>
            <p class="text-uppercase">Sản phẩm đa dạng</p>
        </div>
        <div class="col-md-4">
            <i class="fa fa-shopping-bag fa-3x mb-3 text-warning"></i>
            <h2 class="fw-bold counter">@ViewBag.TotalOrders</h2>
            <p class="text-uppercase">Đơn hàng thành công</p>
        </div>
    </div>

    <div class="text-center mb-5">
        <h2 class="fw-bold mb-4">Đội ngũ quản trị</h2>
        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="card border-0 shadow-sm">
                    <img src="https://ui-avatars.com/api/?name=Pham+A&background=random" class="card-img-top" alt="Team 1">
                    <div class="card-body">
                        <h5 class="card-title fw-bold">Phạm Tấn Nghĩa</h5>
                        <p class="card-text text-muted">CEO & Founder</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card border-0 shadow-sm">
                    <img src="https://ui-avatars.com/api/?name=Tran+B&background=random" class="card-img-top" alt="Team 2">
                    <div class="card-body">
                        <h5 class="card-title fw-bold"></h5>
                        <p class="card-text text-muted">Marketing Manager</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const counters = document.querySelectorAll('.counter');

            const animateCounter = (el) => {
                const target = parseInt(el.innerText);
                let count = 0;
                const step = Math.ceil(target / 50); // tốc độ tăng
                const interval = setInterval(() => {
                    count += step;
                    if (count >= target) {
                        count = target;
                        clearInterval(interval);
                    }
                    el.innerText = count;
                }, 40);
            };

            // Chỉ chạy khi phần tử xuất hiện trong viewport
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        animateCounter(entry.target);
                        observer.unobserve(entry.target); // chỉ chạy 1 lần
                    }
                });
            }, { threshold: 0.5 });

            counters.forEach(counter => observer.observe(counter));
        });
    </script>
}

